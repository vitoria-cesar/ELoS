function $parcel$export(e,o,r,t){Object.defineProperty(e,o,{get:r,set:t,enumerable:!0,configurable:!0})}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequiredf3e;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var o=$parcel$inits[e];delete $parcel$inits[e];var r={id:e,exports:{}};return $parcel$modules[e]=r,o.call(r.exports,r,r.exports),r.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t},parcelRequire.register=function(e,o){$parcel$inits[e]=o},$parcel$global.parcelRequiredf3e=parcelRequire),parcelRequire.register("dRo73",(function(e,o){var r,t;$parcel$export(e.exports,"register",(()=>r),(e=>r=e)),$parcel$export(e.exports,"resolve",(()=>t),(e=>t=e));var a={};r=function(e){for(var o=Object.keys(e),r=0;r<o.length;r++)a[o[r]]=e[o[r]]},t=function(e){var o=a[e];if(null==o)throw new Error("Could not resolve bundle with id "+e);return o}})),parcelRequire.register("41r7E",(function(module,exports){var $4xklQ=parcelRequire("4xklQ"),$6WmIx=parcelRequire("6WmIx"),$9CUYQ=parcelRequire("9CUYQ"),$apQQe=parcelRequire("apQQe"),$czjZ1=parcelRequire("czjZ1"),$iw8wP=parcelRequire("iw8wP"),$8TDdX=parcelRequire("8TDdX");parcelRequire("g5Jx6");const logModal=new(0,$8TDdX.Modal)(document.getElementById("logModal"));var storedLevelValue=!1;const scene=new $4xklQ.Scene,camera=new $4xklQ.PerspectiveCamera(45,2,1,1e3);camera.position.set(0,15,30);const renderer=new $4xklQ.WebGLRenderer({canvas:document.getElementById("sceneView")});renderer.shadowMap.enabled=!0,renderer.shadowMap.type=$4xklQ.PCFShadowMap,window.addEventListener("resize",(function(){(0,$apQQe.resizeCanvasToDisplaySize)(renderer,camera)}),!1);const ambientLight=new $4xklQ.HemisphereLight("white","darkslategrey",.5),mainLight=new $4xklQ.DirectionalLight("white",.7);mainLight.position.set(0,1,0);const light=new $4xklQ.DirectionalLight(16777215,.5);light.position.set(0,30,35),light.castShadow=!0;const helper=new $4xklQ.CameraHelper(light.shadow.camera);scene.add(helper);const controls=new(0,$6WmIx.OrbitControls)(camera,renderer.domElement),gridMapHelper=new(0,$9CUYQ.GridMapHelper),plane=gridMapHelper.createGridPlane();plane.receiveShadow=!0,plane.castShadow=!1;var actorModelPath=new URL(parcelRequire("8jwWx")).toString();const actor=new $4xklQ.Object3D;(0,$apQQe.loadGLBFile)(actor,actorModelPath,"eve",2),actor.castShadow=!0,actor.receiveShadow=!1,actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(2)),actor.rotateY((0,$apQQe.degreeToRadians)(90));const objective1=new $4xklQ.Object3D;var crystalModelPath=new URL(parcelRequire("kgSYq")).toString(),crystalTexturePath=new URL(parcelRequire("d3NFX")).toString();(0,$apQQe.loadOBJFile)(objective1,crystalModelPath,"crystal",crystalTexturePath,2),objective1.rotateX((0,$apQQe.degreeToRadians)(-90));const objective2=new $4xklQ.Object3D;(0,$apQQe.loadOBJFile)(objective2,crystalModelPath,"crystal",crystalTexturePath,2),objective2.rotateX((0,$apQQe.degreeToRadians)(-90)),objective1.position.set(gridMapHelper.getGlobalXPositionFromCoord(6),0,gridMapHelper.getGlobalZPositionFromCoord(2)),objective2.position.set(gridMapHelper.getGlobalXPositionFromCoord(7),0,gridMapHelper.getGlobalZPositionFromCoord(8));const objective3=new $4xklQ.Object3D;(0,$apQQe.loadOBJFile)(objective3,crystalModelPath,"crystal",crystalTexturePath,2),objective3.rotateX((0,$apQQe.degreeToRadians)(-90)),objective3.position.set(gridMapHelper.getGlobalXPositionFromCoord(2),0,gridMapHelper.getGlobalZPositionFromCoord(5));const boxGeometry=new $4xklQ.BoxGeometry(6,2,.2),boxGeometry2=new $4xklQ.BoxGeometry(4,2,.2);var aux=new URL(parcelRequire("6HC3L")).toString(),textureParede=(new $4xklQ.TextureLoader).load(aux);const boxMaterial=new $4xklQ.MeshBasicMaterial({map:textureParede,transparent:!0,wireframe:!1}),box=new $4xklQ.Mesh(boxGeometry,boxMaterial);box.position.set(gridMapHelper.getGlobalXPositionFromCoord(6),1,gridMapHelper.getGlobalXPositionFromCoord(7.5));const box2=new $4xklQ.Mesh(boxGeometry2,boxMaterial);box2.rotateY((0,$apQQe.degreeToRadians)(90)),box2.position.set(gridMapHelper.getGlobalXPositionFromCoord(5.5),1,gridMapHelper.getGlobalZPositionFromCoord(2.5));const box3=new $4xklQ.Mesh(boxGeometry,boxMaterial);box3.position.set(gridMapHelper.getGlobalXPositionFromCoord(2),1,gridMapHelper.getGlobalZPositionFromCoord(4.5));const geometry1=new $4xklQ.ConeGeometry(.4,.5,4,4),geometry2=new $4xklQ.ConeGeometry(.3,1.2,4,4),geometry3=new $4xklQ.ConeGeometry(.3,1,4,4),geometry4=new $4xklQ.ConeGeometry(.4,1.4,4,4),geometry5=new $4xklQ.ConeGeometry(.25,1,4,4),geometry6=new $4xklQ.ConeGeometry(.3,2,4,4),material=new $4xklQ.MeshBasicMaterial({color:"DarkKhaki"}),trap1=new $4xklQ.Mesh(geometry1,material);trap1.position.set(gridMapHelper.getGlobalXPositionFromCoord(.6),.2,gridMapHelper.getGlobalZPositionFromCoord(5.25));const trap2=new $4xklQ.Mesh(geometry2,material);trap2.position.set(gridMapHelper.getGlobalXPositionFromCoord(.8),.6,gridMapHelper.getGlobalZPositionFromCoord(4.6));const trap3=new $4xklQ.Mesh(geometry3,material);trap3.position.set(gridMapHelper.getGlobalXPositionFromCoord(1),.5,gridMapHelper.getGlobalZPositionFromCoord(5));const trap4=new $4xklQ.Mesh(geometry4,material);trap4.position.set(gridMapHelper.getGlobalXPositionFromCoord(1.3),.7,gridMapHelper.getGlobalZPositionFromCoord(4.7));const trap5=new $4xklQ.Mesh(geometry5,material);trap5.position.set(gridMapHelper.getGlobalXPositionFromCoord(1.4),.5,gridMapHelper.getGlobalZPositionFromCoord(5.3));const trap6=new $4xklQ.Mesh(geometry6,material);trap6.position.set(gridMapHelper.getGlobalXPositionFromCoord(.7),1,gridMapHelper.getGlobalZPositionFromCoord(5));const trap7=new $4xklQ.Mesh(geometry1,material);trap7.position.set(gridMapHelper.getGlobalXPositionFromCoord(6),.2,gridMapHelper.getGlobalZPositionFromCoord(3));const trap8=new $4xklQ.Mesh(geometry2,material);trap8.position.set(gridMapHelper.getGlobalXPositionFromCoord(6.2),.6,gridMapHelper.getGlobalZPositionFromCoord(3.2));const trap9=new $4xklQ.Mesh(geometry3,material);trap9.position.set(gridMapHelper.getGlobalXPositionFromCoord(6),.5,gridMapHelper.getGlobalZPositionFromCoord(3.4));const trap10=new $4xklQ.Mesh(geometry4,material);trap10.position.set(gridMapHelper.getGlobalXPositionFromCoord(6.3),.7,gridMapHelper.getGlobalZPositionFromCoord(2.9));const trap11=new $4xklQ.Mesh(geometry5,material);trap11.position.set(gridMapHelper.getGlobalXPositionFromCoord(5.8),.5,gridMapHelper.getGlobalZPositionFromCoord(3));const trap12=new $4xklQ.Mesh(geometry6,material);trap12.position.set(gridMapHelper.getGlobalXPositionFromCoord(5.9),1,gridMapHelper.getGlobalZPositionFromCoord(2.7));const trap13=new $4xklQ.Mesh(geometry1,material);trap13.position.set(gridMapHelper.getGlobalXPositionFromCoord(6),.2,gridMapHelper.getGlobalZPositionFromCoord(8.2));const trap14=new $4xklQ.Mesh(geometry2,material);trap14.position.set(gridMapHelper.getGlobalXPositionFromCoord(6.2),.6,gridMapHelper.getGlobalZPositionFromCoord(8.35));const trap15=new $4xklQ.Mesh(geometry3,material);trap15.position.set(gridMapHelper.getGlobalXPositionFromCoord(5.65),.5,gridMapHelper.getGlobalZPositionFromCoord(8.3));const trap16=new $4xklQ.Mesh(geometry4,material);trap16.position.set(gridMapHelper.getGlobalXPositionFromCoord(6.3),.7,gridMapHelper.getGlobalZPositionFromCoord(7.9));const trap17=new $4xklQ.Mesh(geometry5,material);trap17.position.set(gridMapHelper.getGlobalXPositionFromCoord(6),.5,gridMapHelper.getGlobalZPositionFromCoord(7.7));const trap18=new $4xklQ.Mesh(geometry6,material);function animate(){requestAnimationFrame(animate),controls.update(),renderer.render(scene,camera);let e=(0,$apQQe.getTotalTime)($apQQe.sceneProperties.phaseTimer.getElapsedTime());(0,$apQQe.displayTime)(e)}async function andarFrente(e){await(0,$apQQe.translateActorFoward)(actor,e,gridMapHelper,$apQQe.sceneProperties)}async function andarTras(e){await(0,$apQQe.translateActorBackward)(actor,e,gridMapHelper,$apQQe.sceneProperties)}async function girarDireita(){await(0,$apQQe.rotateActorRight)(actor,$apQQe.sceneProperties)}async function girarEsquerda(){await(0,$apQQe.rotateActorLeft)(actor,$apQQe.sceneProperties)}function checkCollision(e,o){return gridMapHelper.getXCoordFromGlobalPosition(e.position.x)==gridMapHelper.getXCoordFromGlobalPosition(o.position.x)&&gridMapHelper.getZCoordFromGlobalPosition(e.position.z)==gridMapHelper.getZCoordFromGlobalPosition(o.position.z)}function coletarCristal(){$apQQe.sceneProperties.cancelExecution||(checkCollision(actor,objective1)?(objective1.visible=!1,(0,$apQQe.printOnConsole)("Cristal coletado.")):checkCollision(actor,objective2)?(objective2.visible=!1,(0,$apQQe.printOnConsole)("Cristal coletado.")):checkCollision(actor,objective3)?(objective3.visible=!1,(0,$apQQe.printOnConsole)("Cristal coletado.")):(0,$apQQe.printOnConsole)("Robô não está sobre o cristal."),objective1.visible||objective2.visible||objective3.visible||(0,$apQQe.printOnConsole)("Todos os cristais coletados com sucesso!"))}function resetLevel(){actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(2)),actor.getObjectByName("eve").rotation.set(0,0,0),actor.rotation.set(0,(0,$apQQe.degreeToRadians)(90),0),objective1.visible=!0,objective2.visible=!0,objective3.visible=!0}function winCondition(){return!(objective1.visible||objective2.visible||objective3.visible)}trap18.position.set(gridMapHelper.getGlobalXPositionFromCoord(5.7),1,gridMapHelper.getGlobalZPositionFromCoord(8)),gridMapHelper.addObstacle(5,7,7,7),gridMapHelper.addObstacle(5,5,2,3),scene.add(ambientLight),scene.add(mainLight),scene.add(light),scene.add(plane),scene.add(objective1),scene.add(objective2),scene.add(objective3),scene.add(actor),scene.add(box),scene.add(box2),scene.add(box3),scene.add(trap1),scene.add(trap2),scene.add(trap3),scene.add(trap4),scene.add(trap5),scene.add(trap6),scene.add(trap7),scene.add(trap8),scene.add(trap9),scene.add(trap10),scene.add(trap11),scene.add(trap12),scene.add(trap13),scene.add(trap14),scene.add(trap15),scene.add(trap16),scene.add(trap17),scene.add(trap18);const execBtn=document.getElementById("execute");execBtn.addEventListener("click",(async function(){let codeParsed=(0,$iw8wP.parseCode)($czjZ1.editor.state.doc.toString());$apQQe.sceneProperties.cancelExecution=!1,null!=codeParsed&&(resetLevel(),document.getElementById("execute").disabled=!0,await eval(codeParsed),winCondition()?($czjZ1.readOnlyState.doc=$czjZ1.editor.state.doc,$czjZ1.editor.setState($czjZ1.readOnlyState),document.getElementById("winMessage").classList.remove("invisible"),document.getElementById("advanceBtn").classList.remove("invisible"),document.getElementById("reset").disabled=!0,$apQQe.sceneProperties.phaseTimer.stop()):document.getElementById("execute").disabled=!1)}));const resetBtn=document.getElementById("reset");resetBtn.addEventListener("click",(function(){$apQQe.sceneProperties.cancelExecution=!0,resetLevel()}));const clsConsoleBtn=document.getElementById("clsConsole");clsConsoleBtn.addEventListener("click",(function(){document.getElementById("console-printing").innerHTML=null}));const advanceBtn=document.getElementById("advanceBtn");advanceBtn.addEventListener("click",(function(e){e.preventDefault(),(0,$apQQe.setTimeForNextPhase)("/level1/phase10/",(0,$apQQe.getTotalTime)($apQQe.sceneProperties.phaseTimer.getElapsedTime())),window.location.href=advanceBtn.href})),(0,$apQQe.resizeCanvasToDisplaySize)(renderer,camera),$apQQe.sceneProperties.phaseTimer.start(),animate()})),parcelRequire.register("iw8wP",(function(e,o){$parcel$export(e.exports,"parseCode",(()=>t));const r=[{filter:new RegExp("^andarFrente(\\s+)?\\((\\s+)?\\d+(\\s+)?\\)(\\s+)?(;)?$"),type:"sequential"},{filter:new RegExp("^andarTras(\\s+)?\\((\\s+)?\\d+(\\s+)?\\)(\\s+)?(;)?$"),type:"sequential"},{filter:new RegExp("^girarEsquerda(\\s+)?\\((\\s+)?\\)(\\s+)?(;)?$"),type:"sequential"},{filter:new RegExp("^girarDireita(\\s+)?\\((\\s+)?\\)(\\s+)?(;)?$"),type:"sequential"},{filter:new RegExp("^coletarCristal(\\s+)?\\((\\s+)?\\)(\\s+)?(;)?$"),type:"normal"}];function t(e){let o="async function runCode(){\n",t=e.split("\n"),a=!0;for(let e=0;e<t.length;e++){let l,s=!1;if(""!=t[e].trim()){for(let o=0;o<r.length;o++)if(s=r[o].filter.test(t[e].trim()),s){l=r[o].type;break}if(!s){i=t[e],n=e+1,document.getElementById("console-printing").innerHTML+=`Código Inválido:<br> ${i} linha: ${n}<br>`,a=!1;break}if("sequential"===l){o+="await "+t[e].trim()+"\n"}else{o+=t[e].trim()+"\n"}}}var i,n;return a?(o+="}\nrunCode()",o):null}})),parcelRequire.register("g5Jx6",(function(e,o){parcelRequire("4RTL7")})),parcelRequire.register("4RTL7",(function(e,o){$parcel$export(e.exports,"saveLog",(()=>r));async function r(e){let o=new XMLHttpRequest;o.open("POST","https://docs.google.com/forms/d/e/1FAIpQLSfmjz18LA6e5D3miUTHwSCF_kqlvb4J8w7r9kroEIMpF238uA/formResponse",!0);let r=new FormData;for(let o=0;o<e.length;o++)r.append(e[o][0],e[o][1]);return o.send(r),!0}})),parcelRequire.register("8jwWx",(function(e,o){e.exports=new URL("../../"+parcelRequire("dRo73").resolve("6UgDP"),import.meta.url).toString()})),parcelRequire.register("kgSYq",(function(e,o){e.exports=new URL("../../"+parcelRequire("dRo73").resolve("2fkcW"),import.meta.url).toString()})),parcelRequire.register("d3NFX",(function(e,o){e.exports=new URL("../../"+parcelRequire("dRo73").resolve("6V1gc"),import.meta.url).toString()})),parcelRequire.register("6HC3L",(function(e,o){e.exports=new URL("../../"+parcelRequire("dRo73").resolve("3B74o"),import.meta.url).toString()}));var $e22228b1a580ebaf$exports={};parcelRequire("dRo73").register(JSON.parse('{"9UTbk":"index.16dc98ca.js","6UgDP":"eve.1d379c98.glb","2fkcW":"crystal.b05326a7.obj","6V1gc":"crystal.0bf41d2e.jpg","3B74o":"gradegrossa.016d5bb8.png","kPc2l":"index.7243fbdb.js","6NRPp":"index.8cb77f63.js"}')),parcelRequire("41r7E");